{% extends "base.html" %}
{% import "bootstrap/form.html" as wtf %}

{% block content %}

<body style="background-color: #dadde6;">
	<main>
		<!-- <form> -->
		<div class="container-fluid">
			<form>
				<div class="container">

					<div class="row">
						<!-- header row -->
						<div class="col-12">
							<h2>
								{{destination.name}}
							</h2>
							<h4>
								Tickets Available from {{destination.starting_date.strftime("%d %B, %Y")}} at
								{{destination.starting_date.strftime("%H:%M:%S")}}!!!
							</h4>
							<p>
								<em>
									Last Day to Buy Tickets at {{destination.closing_date.strftime("%d %B, %Y")}} at
									{{destination.closing_date.strftime("%H:%M:%S")}}!!
								</em>
							</p>
						</div>
					</div><!-- end header row -->


					<div class="d-inline-flex p-2 row align-items-center" style="place-content: center;">

						<div class="col-lg-auto">
							<div class="bordered text-center">

								<img src="{{destination.image}}" class="rounded img-fluid" alt="{{destination.name}}"
									style="width: 40vh;">

								<div class="container mt-5 d-none d-sm-block" style="width: 40vh;">
									<div class="carousel-container position-relative row">

										<!-- Sorry! Lightbox doesn't work - yet. -->

										<div id="myCarousel" class="carousel slide" data-ride="carousel">
											<div class="carousel-inner">
												<div class="carousel-item active" data-slide-number="0">
													<img src="/static/img/pubg1.jpg" class="d-block w-100" alt="..."
														data-remote="/static/img/pubg1.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery">
												</div>
												<div class="carousel-item" data-slide-number="1">
													<img src="/static/img/pubg2.jpg" class="d-block w-100" alt="..."
														data-remote="/static/img/pubg2.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery">
												</div>
												<div class="carousel-item" data-slide-number="2">
													<img src="/static/img/pubg3.jpg" class="d-block img-fluid" alt="..."
														data-remote="/static/img/pubg3.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery" style="max-width:50%;">
												</div>
												<div class="carousel-item" data-slide-number="3">
													<img src="/static/img/pubg4.jpg" class="d-block img-fluid" alt="..."
														data-remote="/static/img/pubg4.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery" style="max-width:50%;">
												</div>
												<div class="carousel-item" data-slide-number="3">
													<img src="/static/img/pubg5.jpg" class="d-block w-100" alt="..."
														data-remote="/static/img/pubg5.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery" style="max-width:50%;">
												</div>
												<div class="carousel-item" data-slide-number="3">
													<img src="/static/img/pubg6.jpg" class="d-block w-100" alt="..."
														data-remote="/static/img/pubg6.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery">
												</div>
												<div class="carousel-item" data-slide-number="3">
													<img src="/static/img/pubg7.jpg" class="d-block w-100" alt="..."
														data-remote="/static/img/pubg7.jpg" data-type="image" data-toggle="lightbox"
														data-gallery="example-gallery">
												</div>
											</div>
										</div>

										<!-- Carousel Navigation -->
										<div id="carousel-thumbs" class="carousel slide text-center" data-ride="carousel"
											style="text-align: -webkit-center;">
											<div class="carousel-inner text-center" style="text-align: -webkit-center;">
												<div class="carousel-item active">
													<div class="row mx-0">
														<div id="carousel-selector-0" class="thumb col-4 col-sm-2 px-1 py-2 selected"
															data-target="#myCarousel" data-slide-to="0">
															<img src="/static/img/pubg1.jpg" class="img-fluid" alt="...">
														</div>
														<div id="carousel-selector-1" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="1">
															<img src="/static/img/pubg2.jpg" class="img-fluid" alt="...">
														</div>
														<div id="carousel-selector-2" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="2">
															<img src="/static/img/pubg3.jpg" class="img-fluid" alt="...">
														</div>
														<div id="carousel-selector-3" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="3">
															<img src="/static/img/pubg4.jpg" class="img-fluid" alt="...">
														</div>
														<div id="carousel-selector-4" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="4">
															<img src="/static/img/pubg5.jpg" class="img-fluid" alt="...">
														</div>
														<div class="col-2 px-1 py-2"></div>
													</div>
												</div>
												<div class="carousel-item">
													<div class="row mx-0">
														<div id="carousel-selector-6" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="5">
															<img src="/static/img/pubg6.jpg" class="img-fluid" alt="...">
														</div>
														<div id="carousel-selector-7" class="thumb col-4 col-sm-2 px-1 py-2"
															data-target="#myCarousel" data-slide-to="6">
															<img src="/static/img/pubg7.jpg" class="img-fluid" alt="...">
														</div>
														<div class="col-2 px-1 py-2"></div>
														<div class="col-2 px-1 py-2"></div>
														<div class="col-2 px-1 py-2"></div>

													</div>
												</div>
											</div>
											<a class="carousel-control-prev" href="#carousel-thumbs" role="button"
												data-slide="prev">
												<span class="carousel-control-prev-icon" aria-hidden="true"></span>
												<!-- <span class="sr-only">Previous</span> -->
											</a>
											<a class="carousel-control-next" href="#carousel-thumbs" role="button"
												data-slide="next">
												<span class="carousel-control-next-icon" aria-hidden="true"></span>
												<!-- <span class="sr-only">Next</span> -->
											</a>
										</div>

									</div> <!-- /row -->
								</div> <!-- /container -->
							</div>
						</div>

						<div class="col-md-5">
							<div class="bordered">
								<div class="row">
									<div class="form-group">
										<label style="font-weight: bold;">Name of the event</label>
										<input class="form-control" type="text" placeholder="{{destination.name}}" readonly>
									</div>

									<div class="form-group">
										<label style="font-weight: bold;">Event Description</label>
										<p><small>Let your audience know what your event is about!</small></p>
										<textarea class="form-control" readonly rows="4" id="description" type="text"
											placeholder="{{destination.description}}"></textarea>
									</div>

									<div class="form-group">
										<label style="font-weight: bold;">Date & Time</label>
										<input class="form-control" type="datetime-local" id="date" name="event date"
											value="{{destination.event_date}}" readonly>
									</div>

									<div class="form-group">
										<label style="font-weight: bold;">Number of available tickets</label>
										<input type="number" class="form-control" id="" placeholder="{{destination.ticket_num}}"
											readonly>
									</div>

									<label style="font-weight: bold;">Ticket Price</label>
									<div class="form-group">
										<input type="number" class="form-control" id=""
											placeholder="${{destination.ticket_price}}" readonly>
									</div>

									<div class="form-group">
										<label style="font-weight: bold;">Event status</label>
										<input class="form-control" type="text" placeholder="{{destination.Event_status}}"
											readonly>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row text-center p-4">
						<!-- button row -->
						<div class="col-md-12">
							{% if current_user.is_authenticated %}
							<a href="{{ url_for('destination.booking', destination=destination.id) }}"
								class="btn btn-lg btn-primary v-mar px-3 w-50">Book Now</a>


							<a class="btn btn-lg btn-danger"
								href="{{ url_for('destination.delete_show', id=destination.id) }}">Delete Event</a>

							<a class="btn btn-lg btn-success"
								href="{{ url_for('destination.edit_post', id=destination.id) }}">Edit Event</a>

							{% else %}
							<p>You Must be Logged In to book this event</p>
							{% endif %}
						</div>
					</div><!-- end button row -->


				</div> <!-- END CONTAINER -->
			</form>


		</div> <!-- END CONTAINER -->
		<!-- </form> -->

		<!-- Bootstrap CSS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous">
			</script>

	</main>

</body>

<hr>

<!-- Comments -->
<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<h2>Comments</h1>
		</div>
	</div>
</div>
<div class="container-fluid">
	<div class="row border-bottom">
		{{wtf.render_form(form,"/events/{0}/comment".format(destination.id))}}
		{% for comment in destination.comments %}
		<div class="col-md-12">
			<b>{{comment.user.name}} <span class="ml-2 text-muted">{{comment.created_at.strftime("%d %B,%Y")}}</span></b>
			<p>{{comment.text}}</p>
		</div>
		{% endfor %}
	</div>
</div>

{% endblock %}